<?xml version="1.0" encoding="UTF-8"?>

<connector xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
    http://java.sun.com/xml/ns/j2ee/connector_1_5.xsd"
    version="1.5">

    <description>XAFileSystem Resource Adapter</description>
    <display-name>XAFileSystem Resource Adapter</display-name>
    <vendor-name>XADisk@java.net</vendor-name>
    <eis-type>XAFileSystem 1.0</eis-type>
    <resourceadapter-version>1.0</resourceadapter-version>
    
    <resourceadapter>
        
        <resourceadapter-class>
            org.xadisk.connector.XADiskResourceAdapter
        </resourceadapter-class>
        
        <config-property>
            <config-property-name>directBufferPoolSize</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>1000</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>nonDirectBufferPoolSize</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>1000</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>bufferSize</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>4096</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>xaDiskHome</config-property-name>
            <config-property-type>java.lang.String</config-property-type>
            <config-property-value>C:\\XADisk</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>transactionLogFileMaxSize</config-property-name>
            <config-property-type>java.lang.Long</config-property-type>
            <config-property-value>1000000000</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>cumulativeBufferSizeForDiskWrite</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>1000000</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>directBufferIdleTime</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>100</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>nonDirectBufferIdleTime</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>100</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>bufferPoolRelieverInterval</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>60</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>maxNonPooledBufferSize</config-property-name>
            <config-property-type>java.lang.Long</config-property-type>
            <config-property-value>1000000</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>deadLockDetectorInterval</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>30</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>lockTimeOut</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>10000</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>maximumConcurrentEventDeliveries</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>20</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>logLevel</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>3</config-property-value>
        </config-property>
        <config-property>
            <config-property-name>transactionTimeout</config-property-name>
            <config-property-type>java.lang.Integer</config-property-type>
            <config-property-value>60</config-property-value>
        </config-property>


        <outbound-resourceadapter>
            <connection-definition>
                <managedconnectionfactory-class>
                    org.xadisk.connector.outbound.ManagedConnectionFactoryImpl
                </managedconnectionfactory-class>
                <!--
                <config-property>
                    <config-property-name>ConnectionValidationEnabled</config-property-name>
                    <config-property-type>java.lang.Boolean</config-property-type>
                </config-property>  -->
                <connectionfactory-interface>
                    org.xadisk.connector.outbound.ConnectionFactory
                </connectionfactory-interface>
                <connectionfactory-impl-class>
                    org.xadisk.connector.outbound.ConnectionFactory
                </connectionfactory-impl-class>
                <connection-interface>
                    org.xadisk.connector.outbound.ConnectionHandle
                </connection-interface>
                <connection-impl-class>
                    org.xadisk.connector.outbound.ConnectionHandle
                </connection-impl-class>
            </connection-definition>

            <transaction-support>
                XATransaction
            </transaction-support>
            <reauthentication-support>
                false
            </reauthentication-support>
        </outbound-resourceadapter>

        <inbound-resourceadapter>
            <messageadapter>
                <messagelistener>
                    <messagelistener-type>
                        org.xadisk.connector.inbound.FileSystemEventListener
                    </messagelistener-type>
                    <activationspec>
                        <activationspec-class>
                            org.xadisk.connector.inbound.ActivationSpecImpl
                        </activationspec-class>
                        <required-config-property>
                            <config-property-name>fileNamesAndEventInterests</config-property-name>
                        </required-config-property>
                        <!--<config-property>
                            <config-property-name>fileNamesAndEventInterests</config-property-name>
                            <config-property-type>java.lang.String</config-property-type>
                            <config-property-value>a.txt::001,b.txt:101</config-property-value>
                        </config-property>
                        -->
                    </activationspec>
                </messagelistener>
            </messageadapter>
        </inbound-resourceadapter>

        <!-- <adminobject>
            <adminobject-interface>javax.jms.Queue
            </adminobject-interface>
            <adminobject-class>
                com.sun.genericra.outbound.QueueProxy
            </adminobject-class>
            <config-property>
                <config-property-name>
                    DestinationJndiName
                </config-property-name>
                <config-property-type>
                    java.lang.String
                </config-property-type>
                <config-property-value>
                </config-property-value>
            </config-property>
            <config-property>
                <config-property-name>
                    DestinationProperties
                </config-property-name>
                <config-property-type>
                    java.lang.String
                </config-property-type>
                <config-property-value>
                </config-property-value>
            </config-property>
        </adminobject> -->
        

    </resourceadapter>
</connector>

